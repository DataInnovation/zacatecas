<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Periódico Oficial del Gobierno del Estado de Zacatecas</title>
<meta name="description" content="Here goes description" />
<meta name="author" content="author name" />
<link rel="shortcut icon" href="../images/favicon.ico"
	type="image/x-icon" />

<!-- Mobile Specific Meta -->
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1" />

<!-- Style CSS -->
<link rel="stylesheet" href="../css/font-awesome.min.css" />
<link rel="stylesheet" href="../css/owl-carousel.css" />
<link rel="stylesheet" href="../css/bootstrap.css" />
<link rel="stylesheet" href="../css/datepicker.css" />
<link rel="stylesheet" href="../css/add-date.css" />
<link rel="stylesheet" href="../css/animate.css" />
<link rel="stylesheet" href="../css/icomoon.css" />
<link rel="stylesheet" href="../css/screen.css" />
<link rel="stylesheet" href="../css/align.css" />
</head>
<body data-smooth-scroll="on">
	<!-- Page Wrapper -->
	<div class="page">
		<body onload="header('tramites')">
			<div id="menu"></div>
			<!-- Blog Section -->
			<section class="blog-section">
				<!-- Section Header -->
				<div class="section-header inverted inverted-all">
					<div class="container">
						<h1>Busqueda de Información</h1>
						<p>Ingrese los datos que considere necesarios para iniciar la
							búsqueda de Sumario.</p>
					</div>
				</div>

				<!-- Body -->
				<div class="blog-section-wrapper">
					<div class="container">
						<div class="blog-content">
							<div class="row">
								<div class="col-xs-22 col-xs-offset-1">
									<div class="simple-template-form">
										<h4 class="caption">Puede realizar su búsqueda por:</h4>

										<form class="respond-form" id="dataForm" name="dataForm"
											onsubmit="return false">


											<div class="row">
												<div class="col-sm-8">
													<select class="input-line js-input" name="tomo" id="tomoPeriodico">
														<option disabled selected>Tomo:</option>
														<option value="CXX">CXX(2010)</option>
														<option value="CXXI">CXXI(2011)</option>
														<option value="CXXII">CXXII(2012)</option>
														<option value="CXXIII">CXXIII(2013)</option>
														<option value="CXXIV">CXXIV(2014)</option>
														<option value="CXXV">CXXV(2015)</option>
														<option value="CXXVI">CXXVI(2016)</option>
														<option value="CXXVII">CXXVII(2017)</option>
													</select>
												</div>

											</div>


											<div class="row">
												<div class="col-sm-8">
													<input class="input-line js-input" type="number" min="1"
														name="volumenPeriodico" placeholder="Volumen:" id="volumenPeriodico"/>
												</div>
											</div>



											<div class="row">
												<div class="col-sm-8">
													<input class="input-line js-input" type="text"
														name="folioInicial" placeholder="Folio Inicial:" />
												</div>
												<div class="col-sm-8">
													<input class="input-line js-input" type="text"
														name="folioFinal" placeholder="Folio Final:" />
												</div>

											</div>

											<div class="row">
												<div class="col-sm-8">
													<div class="input-append date">
														<input class="input-line js-input" type="text"
															name="fechaInicial" placeholder="Fecha Inicial" value="" /><span
															class="add-on"><i class="icon icon-calendar"></i></span>
													</div>
												</div>
												<div class="col-sm-8">
													<div class="input-append date">
														<input class="input-line js-input" type="text"
															name="fechaFinal" placeholder="Fecha Final" value="" /><span
															class="add-on"><i class="icon icon-calendar"></i></span>
													</div>
												</div>
											</div>




											<div class="submit-button">
												<input type="submit" value="Buscar"
													onclick="makeCorsRequest('http://periodicooficial.zacatecas.gob.mx:9000/busqueda/sumarios','lista','dataForm')" />
												<i class="icon icon-search"></i>
												<!--http://periodicooficial.zacatecas.gob.mx-->
											</div>

											<div class="submit-button">
												<input type="button" value="Siguiente"
													onclick="window.location.href='../busqueda-sumario-edicion/'" /> <i class="icon icon-pencil"></i>
											</div>

											<div class="submit-button">
												<input type="button" value="Ver PDF"
													onclick="makeCorsRequest2('http://periodicooficial.zacatecas.gob.mx:9000/busqueda/sumarios','lista','dataForm', this.form.volumenPeriodico, this.form.tomoPeriodico)" />
												<i class="icon icon-search"></i>
											</div>


										</form>
									</div>
								</div>
							</div>


							<div class="row">
								<div class="col-xs-22 col-xs-offset-1">


									<div class="row">
										<div class="col-md-14 col-lg-24">
											<h4 id="resultado">Resultados encontrados</h4>
										</div>

										<div class="row center">
											<button onclick="primeraPag('lista')">
												<img src="../img/first.png" />
											</button>
											<button onclick="anteriorPag('lista')">
												<img src="../img/previous.png" />
											</button>
											<input type="number" style="width: 40px; height: 15px"
												size="3" min="1" maxlength="3" id="indiceP" placeholder="1"
												value="" onChange="indicePag('lista',indiceP);" />

											<button onclick="siguientePag('lista')">
												<img src="../img/nextt.png" />
											</button>
											<button onclick="ultimaPag('lista')">
												<img src="../img/last.png" />
											</button>
										</div>


									</div>

									<div class="services-list-header">
										<div class="row row-fit">

											<div class="col-sm-3">
												<h4>Volumen</h4>
											</div>
											<div class="col-sm-3">
												<h4>Tipo</h4>
											</div>
											<div class="col-sm-4">
												<h4>Categoria</h4>
											</div>
											<div class="col-sm-2">
												<h4>Folio</h4>
											</div>
											<div class="col-sm-3">
												<h4>Fecha Solicitud</h4>
											</div>
											<div class="col-sm-4">
												<h4>Nota del Sumario</h4>
											</div>
											<div class="col-sm-5">
												<h4>Municipio</h4>
											</div>

										</div>
									</div>

									<div class="services-list">
										<div class="service" id="lista"></div>
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</section>
	
			<div id="footer">
				
			</div>
			</div>

	<script language="javascript">
		function slctr(texto, valor) {
			this.texto = texto
			this.valor = valor
		}
	</script>
	<!-- Scripts -->
        <script src="../js/insert/header.js"></script>
	<script src="../js/jquery.js"></script>
	<script src="../js/modernizr.js"></script>
	<script src="../js/smooth-scroll.js"></script>
	<script src="../js/jquery-ui.js"></script>
	<script src="../js/images.js"></script>
	<script src="../js/isotope.js"></script>
	<script src="../js/bootstrap.js"></script>
	<script src="../js/bootstrap-datepicker.js"></script>
	<script src="../js/owl-carousel.js"></script>
	<script src="../js/visible.js"></script>
	<script src="../js/knob.js"></script>
	<script src="../js/options.js"></script>
	<script src="../js/jspdf.debug.js"></script>
    <script src="../js/calendario/CalendarioPublicaciones.js"></script>
    <script src="../js/insert/jsInsert.js"></script>
	<script src="../js/insert/sumarioedicionpdf.js"></script> 
    <script src="../js/cookies/cookies.js"></script>   
	<script src="../js/table/pagBusquedaSumario.js"></script>
	<script src="../js/municipios/municipios.js"></script>

	<script type="text/javascript">

		$(document).ready(function() {

			$('.date').datepicker({
				format : "yyyy-mm-dd",
				endDate : "Today",
				language : "es",
				daysOfWeekDisabled : "0",
				autoclose : true,
				orientation : "top auto"
			});

		});

		function createCORSRequest(method, url) {
			var xhr = new XMLHttpRequest();
			if ("withCredentials" in xhr) {
				// Check if the XMLHttpRequest object has a "withCredentials" property.
				// "withCredentials" only exists on XMLHTTPRequest2 objects.
				xhr.open(method, url, true);
			} else if (typeof XDomainRequest != "undefined") {
				// Otherwise, check if XDomainRequest.
				// XDomainRequest only exists in IE, and is IE's way of making CORS requests.
				xhr = new XDomainRequest();
				xhr.open(method, url);
			} else {
				// Otherwise, CORS is not supported by the browser.
				xhr = null;
			}
			return xhr;
		}
		function makeCorsRequest(url, id, form) {
			var xhr = createCORSRequest('POST', url);
			if (!xhr) {
				alert('CORS not supported');
				return;
			}
			var formElement = document.getElementById(form);
			var formData = new FormData(formElement);
			// Response handlers.
			xhr.onload = function() {
				var response = JSON.parse(xhr.responseText);
				displayList(response, id);

			};
			xhr.onerror = function() {
				alert('Woops, there was an error making the request.');
			};
			xhr.send(formData);
			document.getElementById("resultado").innerHTML = "Buscando...";
		}

		function displayList(arr, id) {

			arr2 = arr;
			indice = 1;

			if (arr.Documentos == undefined) {
				document.getElementById("resultado").innerHTML = "No se encontraron resultados";
			}

			mostrarLista(id);
		}

		function makeCorsRequest2(url, id, form, volumen, tomo) {
			var xhr = createCORSRequest('POST', url);
			if (!xhr) {
				alert('CORS not supported');
				return;
			}
			var formElement = document.getElementById(form);
			var formData = new FormData(formElement);
			// Response handlers.
			xhr.onload = function() {
				var response = JSON.parse(xhr.responseText);
				displayList2(response, id, volumen, tomo);
			};
			xhr.onerror = function() {
				alert('Woops, there was an error making the request.');
			};
			xhr.send(formData);

		}

		function displayList2(arr, id, volumen, tomo) {
			var str = JSON.stringify(arr, null, 4);
			//document.getElementById("resultado").innerHTML = 'JSON : ' + str;
			var out = "";
			var i;
			var documents = arr.Documentos;

			testPDF2(documents, volumen, tomo);

			document.getElementById(id).innerHTML = out;
		}
		verificarLogin();
	</script>
</body>
</html>