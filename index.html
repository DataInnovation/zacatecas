<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
    <title>Periódico Oficial del Gobierno del Estado de Zacatecas</title>
    <meta name="description" content="Here goes description" />
    <meta name="author" content="author name" />
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />

    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <!-- Style CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/owl-carousel.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/lightbox.css" />
    <link rel="stylesheet" href="css/animate.css" />
    <link rel="stylesheet" href="css/icomoon.css" />
    <link rel="stylesheet" href="css/screen.css" />
</head>
<body data-smooth-scroll="on">

	<!-- Page Wrapper -->
	<div class="page">
		<!-- Header -->
		<header>
			<div class="container">
				<div class="row">
					<!-- Brand -->
					<div class="col-xs-12 col-md-6">
						<div class="brand">
							<a href="index.html"><img src="img/brand.png" alt="brand" /></a>
						</div>
					</div>

					<!-- Nav -->
					<div class="col-xs-12 col-md-18">
						<nav>
							<ul>
								<li class="current-menu-item"><a href="index.html">Inicio</a></li>
								<li class="has-children">
									<a href="">Búsqueda</a>
									<ul class="children">
										<li><a href="busqueda/">Búsqueda de Solicitud</a></li>
										<li><a href="busqueda-leyes/">Búsqueda de Leyes</a></li>
										<li><a href="">Consulta Cronología</a></li>
									</ul>
								</li>
								<li class="has-children">
									<a href="">Trámites</a>
									<ul class="children">
										<li><a href="insercion/">Insercion</a></li>
										<li><a href="carga-imagen/">Carga Imagenes Inserción</a></li>
										<li><a href="carga-transcrito/">Carga Transcripciones</a></li>
										<li><a href="carga-leyes/">Carga Leyes</a></li>
										<li><a href="carga-periodico/">Carga Períodicos Publicados</a></li>
										<li><a href="carga-suplementos/">Carga de Suplementos</a></li>
										<li><a href="nota-sumario/">Nota del Sumario</a></li>
										<li><a href="busqueda-sumario/">Reporte Sumarios</a></li>
									</ul>
								</li>
								<li><a href="#">Servicios</a></li>
								<li><a href="#">Leyes y Reglamentos</a></li>
								<li class="has-children">
									<a href="">Parametros</a>
									<ul class="children">
										<li><a href="#/">Tipos de Inserciones</a></li>
										<li><a href="#/">Categoría de Tipos</a></li>
										<li><a href="municipios/">Municipios</a></li>
										<li><a href="juzgados/">Juzgados</a></li>
										<li><a href="#/">Calendario Publicaciones</a></li>
										<li><a href="#/">Contador Folio</a></li>
										<li><a href="#/">Tipos de Leyes</a></li>
									</ul>
								</li>
                                
							</ul>

							<i class="responsive-menu-trigger icon-menu"></i>
							
						</nav>
					</div>
				</div>

			</div>
		</header>

		<!-- Hero Section -->
		<section class="hero-section">
			<div class="container">
				<div class="row">
					<div class="col-xs-20 col-xs-offset-2 col-md-10 col-md-offset-12 col-lg-10 col-lg-offset-14">
						<h1>Periódico Oficial<br />del Gobierno de Zacatecas</h1>
						<p>Órgano del gobierno del estado libre y soberano de Zacatecas.</p>
						<div class="calendar">
							<div class="datepicker"></div>
						</div>
					</div>
				</div>
			</div>
		</section>

		
        

		<!-- Call to action Section -->
		<section class="call-to-action-section">
			<div class="container">
				<div class="row">
					<div class="col-md-14 col-lg-24">
						<h3>Publicaciones recientes del Periódico Oficial del Gobierno de Zacatecas</h3>
					</div>
				</div>
			</div>
		</section>

		<!-- Order Services -->
		<section class="order-services-section">
			<div class="tabs vertical-tabs">
				<div class="container">
					<div class="row row-fit">
						<!-- Tabs  Header -->
						<div class="col-md-5">
							<div class="heading">
								<ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist">
									<li class="ui-state-default ui-corner-top ui-tabs-active ui-state-active" aria-controls="service-group-1" aria-labelledby="ui-id-1" role="tab" tabindex="0" aria-selected="true" aria-expanded="true">
										<a href="#service-group-1" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-1">
											<h4 id="titleLeyes">Leyes</h4>
										</a>
									</li>

									<li class="ui-state-default ui-corner-top" role="tab" tabindex="-1" aria-controls="service-group-2" aria-labelledby="ui-id-2"  aria-selected="false" aria-expanded="false">
										<a href="#service-group-2" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-2">
											<h4 id="titleSuplementos">Suplementos</h4>
										</a>
									</li>
								</ul>
							</div>
						</div>

						<!-- Tabs Body -->
						<div class="col-md-19">
							<!-- Services List Header -->
							<div class="services-list-header">
								<div class="row row-fit">
									<div class="col-sm-20">
										<h4>Descripción</h4>
									</div>
									<div class="col-sm-4">
										<h4>Descargar</h4>
									</div>
								</div>
							</div>

							<!-- Services Wrapper -->
							<div class="tabs-body">
								
                                <div class="tab ui-tabs-panel ui-widget-content ui-corner-bottom" id="service-group-1" aria-labelledby="ui-id-1" role="tabpanel">
									
									<div class="services-list" id="LEYES">
										
									</div>
                                    
                                </div>

								<div class="tab ui-tabs-panel ui-widget-content ui-corner-bottom" id="service-group-2" aria-labelledby="ui-id-2" role="tabpanel">
									
									<div class="services-list" id="SUPLEMENTOS">
                                      
									</div>
                                    
								</div>
                                
							</div>
						</div>
					</div>
				</div>
			 </div>
		</section>




		<!-- Footer -->
		<footer>
			<!-- Upper Block -->
			<div class="upper-block">
				<div class="container">
					<div class="menu">
						<ul>
							<li><a href="index.html">Inicio</a></li>
							<li><a href="#">Ejemplares</a></li>
							<li><a href="#">Trámites</a></li>
							<li><a href="#">Servicios</a></li>
							<li><a href="#">Leyes y Reglamentos</a></li>
							<li><a href="#">Parametros</a></li>
						</ul>
					</div>
				</div>
			</div>

			<!-- Main Block -->
			<div class="footer-widgets">
				<div class="container">
					<div class="row">
						<!-- Info Section -->
						<div class="col-md-12">
							<div class="footer-widget info no-border">
								<img src="img/brand.png" alt="worker brand" />
								<p>Gobierno del Estado de Zacatecas
                                Circuito Cerro del Gato, Cd. Administrativa
                                C.P. 98160 Zacatecas, Zacatecas.<br><br>
                                Tel. (492) 4915000
                                Habla con tu Gobernador</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Copyrights -->
			<div class="copyrights">
				<div class="container">
					<p>Gobierno de Zacatecas</p>
				</div>
			</div>
		</footer>
        
	</div>

	<!-- Scripts -->
	<script src="js/jquery.js"></script>
	<script src="js/modernizr.js"></script>
	<script src="js/smooth-scroll.js"></script>
	<script src="js/jquery-cal-ui.js"></script>

	<script src="js/lightbox.js"></script>
	<script src="js/isotope.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/owl-carousel.js"></script>
	<script src="js/visible.js"></script>
	<script src="js/knob.js"></script>
	<script src="js/options.js"></script>
	<script src="js/descargas/descargas.js"></script>
    
    <script language="javascript">
				
			var xmlhttpLeyes = new XMLHttpRequest();
			var urlLeyes = "http://189.254.255.72:9000/obtener/leyes";
			
			xmlhttpLeyes.onreadystatechange = function() {
				if (xmlhttpLeyes.readyState==4 && xmlhttpLeyes.status==200){
					var myArr = JSON.parse(xmlhttpLeyes.responseText);
					myLeyes(myArr);
				}
			}
			xmlhttpLeyes.open("GET",urlLeyes,true);
			xmlhttpLeyes.send();
			
			
			
			
			
			
			
			
			function myLeyes(arr) {
				
			
				var out = "";
				document.getElementById("titleLeyes").innerHTML = "Cargando...";
				for(i = 0; i < arr.Documentos.length; i++) {
					out +=
					"<div class='service'>" +
					"	<div class='row row-fit'>" +
					"		<div class='col-sm-16'>" + 
					"			<div class='description'>" + 
					"				<p>"+arr.Documentos[i].descripcion+"</p>" + 
					"			</div>" + 
					"		</div>" + 
					"		<div class='col-sm-8'>" + 
					"			<div class='price'>" + 
					"				<p>"+arr.Documentos[i].fechaPublicacion+"</p> <a href= 'javascript:void(0)' onclick='activarDescarga(" + '"'+ arr.Documentos[i].url +'"' + ")' class='button worker-button-2'>Descargar</a>" + 
					"			</div>" + 
					"		</div>" +				
					"	</div>" + 
					"</div>" 				
				}
				document.getElementById("titleLeyes").innerHTML = "Leyes";
				document.getElementById("LEYES").innerHTML = out;
			
			
			}
			var xmlhttpSuplementos = new XMLHttpRequest();
			var urlSuplementos = "http://189.254.255.72:9000/obtener/suplementos";
			
			xmlhttpSuplementos.onreadystatechange = function() {
				if (xmlhttpSuplementos.readyState==4 && xmlhttpSuplementos.status==200){
					var myArr = JSON.parse(xmlhttpSuplementos.responseText);
					mySuplementos(myArr);
				}
			}
			xmlhttpSuplementos.open("GET",urlSuplementos,true);
			xmlhttpSuplementos.send();
			
			function mySuplementos(arr) {
				var out = "";
				document.getElementById("titleSuplementos").innerHTML = "Cargando...";
				for(i = 0; i < arr.Documentos.length; i++) {
					out +=
					"<div class='service'>" +
					"	<div class='row row-fit'>" +
					"		<div class='col-sm-16'>" + 
					"			<div class='description'>" + 
					"				<p>"+arr.Documentos[i].titulo+"</p>" + 
					"			</div>" + 
					"		</div>" + 
					"		<div class='col-sm-8'>" + 
					"			<div class='price'>" + 
					"				<p>"+arr.Documentos[i].fechaPublicacion+"</p> <a href= 'javascript:void(0)' onclick='activarDescarga(" + '"'+ arr.Documentos[i].url +'"' + ")' class='button worker-button-2'>Descargar</a>" + 
					"			</div>" + 
					"		</div>" +				
					"	</div>" + 
					"</div>" 				
				}
				document.getElementById("titleSuplementos").innerHTML = "Suplementos";
				document.getElementById("SUPLEMENTOS").innerHTML = out;
			}


				
            var months = [], days = [], hrefs = [];
            $.ajax({
                url: 'http://189.254.255.72:9000/busqueda/periodicoMesAnio',
                type: 'post',
                dataType: 'json',
                data: {fechaInicial:"2015-01-01",fechaFinal:"2015-12-31"},
                success: function (data) {
                    for (x = 0; x < data.Documentos.length; x++) {
                        var fechaP = data.Documentos[x].fechaPublicacion;
                        months.push(fechaP.split("/")[1].replace("0",""));
                        days.push(fechaP.split("/")[2].replace("0",""));
						hrefs.push(data.Documentos[x].url);
                    }
                    					
                    $(".datepicker").datepicker({
						beforeShowDay: addDates,
						onSelect: addLinks
    				});
					
                }
            });
    
    		
            function addLinks(dateText){
				
				var fechaS = dateText;
				var anoS = fechaS.split("/")[0];
				var mesS = fechaS.split("/")[1];
				var diaS = fechaS.split("/")[2];
                for (x = 0; x < days.length; x++) {
                    if (mesS == months[x] && diaS == days[x]) {
                        //window.open(hrefs[x],'_blank');
                        var xmlhttpPeriodico = new XMLHttpRequest();
						var urlPeriodico = hrefs[x];
			
			xmlhttpPeriodico.onreadystatechange = function() {
				if (xmlhttpPeriodico.readyState==4 && xmlhttpPeriodico.status==200){
					var myArr = JSON.parse(xmlhttpPeriodico.responseText);
					descargar(myArr);
				}
			}
			xmlhttpPeriodico.open("GET",urlPeriodico,true);
			xmlhttpPeriodico.send();
   				}
                }
            }
            
            
		
            
            

            function addDates(date){
                for (x = 0; x < days.length; x++) {
                    if (date.getMonth() == months[x] - 1 && date.getDate() == days[x]) {
                        return [true, "dia_documento", ''];
                    }
                }
                return [false, "dia_nodocumento", ''];
            }

            
			
		
    </script>
      
</body>
</html>