<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>insertarSolicitud</title>
		<meta name="author" content="Paco" />
		<!-- Date: 2015-07-30 -->
		<script>
			function createCORSRequest(method, url) {
				var xhr = new XMLHttpRequest();
				if ("withCredentials" in xhr) {
					// Check if the XMLHttpRequest object has a "withCredentials" property.
					// "withCredentials" only exists on XMLHTTPRequest2 objects.
					xhr.open(method, url, true);
				} else if ( typeof XDomainRequest != "undefined") {
					// Otherwise, check if XDomainRequest.
					// XDomainRequest only exists in IE, and is IE's way of making CORS requests.
					xhr = new XDomainRequest();
					xhr.open(method, url);
				} else {
					// Otherwise, CORS is not supported by the browser.
					xhr = null;
				}
				return xhr;
			}

			function makeCorsRequest(url, form) {
				
				document.getElementById("resultado").innerHTML = 'enviando...'
				var xhr = createCORSRequest('POST', url);
				if (!xhr) {
					alert('CORS not supported');
					return;
				}
				var formElement = document.getElementById(form);
				var formData = new FormData(formElement);
				// Response handlers.
				xhr.onload = function() {
					var response = JSON.parse(xhr.responseText);
					displayList(response);
					//alert('Response from CORS request to ' + url );
				};
				xhr.onerror = function() {
					alert('Woops, there was an error making the request.');
				};
				xhr.send(formData);
			}

			function displayList(arr) {
				var str = JSON.stringify(arr, null, 4);
				document.getElementById("resultado").innerHTML = 'JSON : ' + str;
			}
		</script>
	</head>
	<body>
		<p id="resultado">
			Resultado:
		</p>
		<form id="dataForm" name="dataForm">
			<label>usuario: </label>
			<input type="text" name="usuario" value="Prointernet"/>
			<br />
			<label>password: </label>
			<input type="password" name="password" value="prointernet"/>
			<br />
			<label>urlAlfresco: </label>
			<input type="text" name="urlAlfresco" value="telcelr4.dinnova.com.mx:8081"/>
			<br />
			<label>path: </label>
			<input type="text" name="path" value="/Sites/periodico-zacatecas/documentLibrary/Solicitudes de Insercion"/>
			<br />
			<label>Folio: </label>
			<input type="text" name="siFolio" value="5555"/>
			<br />
			<label>Actor: </label>
			<input type="text" name="siActor" value="5555"/>
			<br />
			<label>Tipo Insercion: </label>
			<input type="text" name="siTipoInsercion" value="5555"/>
			<br />
			<label>Nombre Solicitante: </label>
			<input type="text" name="siNombreSolicitante" value="5555"/>
			<br />
			<label>Contraparte: </label>
			<input type="text" name="siContraparte" value="5555"/>
			<br />
			<label>Categoria: </label>
			<input type="text" name="siCategoria" value="5555"/>
			<br />
			<label>Municipio: </label>
			<input type="text" name="siMunicipio" value="5555"/>
			<br />
			<label>Juzgado: </label>
			<input type="text" name="siJuzgado" value="5555"/>
			<br />
			<label>No. Inserciones : </label>
			<input type="text" name="siNumInserciones" value="5555"/>
			<br />
			<label>Volumenes Publicacion: </label>
			<input type="text" name="siVolumenesPublicacion" value="5555"/>
			<br />
			<label>Cantidad A Pagar: </label>
			<input type="text" name="siCantidadAPagar" value="5555"/>
			<br />
			<label>Partida Pago: </label>
			<input type="text" name="siPartidaPagoNum" value="5555"/>
			<br />
			<label>Nota Sumario: </label>
			<input type="text" name="siNotaSumario" value="5555"/>
			<br />
			<label>Fechas Publicacion: </label>
			<input type="text" name="siFechasPublicacion" value="2015/02/02"/>
			<br />
			<label>Fecha: </label>
			<input type="text" name="siFecha" value="2015/03/15"/>
			<br />
			<label>Archivo: </label>
			<input type="file" name="archivo"/>
			<br />
		</form>
		<button type="button" onclick="makeCorsRequest('http://telcelr4.dinnova.com.mx:9000/upload/solicitudinsercion' ,'dataForm')">
			Insertar
		</button>

	</body>
</html>

